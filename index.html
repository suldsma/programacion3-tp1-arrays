<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üå± Inventario de Plantas - TP JavaScript Arrays</title>
    <meta name="description" content="Sistema de gesti√≥n de inventario de plantas - UNER Programaci√≥n III">
    <meta name="author" content="Grupo [N√öMERO] - UNER">
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <!-- Header -->
    <header>
        <h1>üå± Inventario de Plantas üå±</h1>
        <p class="subtitulo">Sistema de Gesti√≥n - Programaci√≥n III UNER</p>
    </header>

    <!-- Estad√≠sticas del inventario -->
    <section class="estadisticas" id="estadisticas">
        <div class="stat-card">
            <span class="stat-numero" id="totalProductos">0</span>
            <span class="stat-label">Productos</span>
        </div>
        <div class="stat-card">
            <span class="stat-numero" id="stockTotal">0</span>
            <span class="stat-label">Unidades</span>
        </div>
        <div class="stat-card">
            <span class="stat-numero" id="valorInventario">$0</span>
            <span class="stat-label">Valor Total</span>
        </div>
    </section>

    <!-- Contenedor principal del inventario -->
    <main class="contenedor" id="inventario">
        <!-- Las tarjetas se generan din√°micamente -->
    </main>

    <!-- Footer -->
    <footer>
        <p>¬© 2025 - Programaci√≥n III - UNER | Trabajo Pr√°ctico JavaScript Arrays</p>
    </footer>

    <!-- Scripts -->
    <script src="./productos.js"></script>
    <script>
        // Funci√≥n para formatear n√∫meros
        const formatearNumero = (numero) => numero.toLocaleString('es-AR');
        const formatearPrecio = (precio) => `$${precio.toLocaleString('es-AR')}`;

        // Funci√≥n para calcular estad√≠sticas
        function calcularEstadisticas() {
            const totalProductos = productos.length;
            const stockTotal = productos.reduce((total, producto) => total + producto.stock, 0);
            const valorInventario = productos.reduce((total, producto) => total + (producto.precio * producto.stock), 0);

            document.getElementById('totalProductos').textContent = totalProductos;
            document.getElementById('stockTotal').textContent = formatearNumero(stockTotal);
            document.getElementById('valorInventario').textContent = formatearPrecio(valorInventario);
        }

        // Funci√≥n para crear tarjetas de productos
        function crearTarjetasProductos() {
            const contenedor = document.getElementById("inventario");
            
            productos.forEach((producto, index) => {
                const tarjeta = document.createElement("div");
                tarjeta.classList.add("tarjeta");
                tarjeta.style.animationDelay = `${index * 0.1}s`;

                // Determinar el color del badge seg√∫n el origen
                const colorOrigen = producto.origen === "Aut√≥ctona" ? "autoctona" : "exotica";
                
                // Determinar el estado del stock
                let estadoStock = "disponible";
                if (producto.stock < 100) estadoStock = "bajo";
                if (producto.stock === 0) estadoStock = "agotado";

                tarjeta.innerHTML = `
                    <div class="imagen-container">
                        <img src="${producto.foto}" 
                             alt="${producto.nombre}"
                             onerror="this.src='./img/placeholder.jpg'; this.classList.add('error-img');">
                        <div class="badge-origen ${colorOrigen}">${producto.origen}</div>
                    </div>
                    <div class="info">
                        <h3 class="nombre-producto">${producto.nombre}</h3>
                        <p class="nombre-cientifico">${producto.nombre_cientifico}</p>
                        <div class="precio-container">
                            <span class="precio">${formatearPrecio(producto.precio)}</span>
                        </div>
                        <div class="detalles">
                            <div class="stock ${estadoStock}">
                                <span class="stock-icon">üì¶</span>
                                Stock: ${formatearNumero(producto.stock)} unidades
                            </div>
                            <div class="altura">
                                <span class="altura-icon">üìè</span>
                                Altura m√°x: ${producto.altura_maxima}m
                            </div>
                            <div class="presentacion">
                                <span class="presentacion-icon">ü™¥</span>
                                ${producto.presentacion}
                            </div>
                        </div>
                        <div class="id-producto">ID: ${producto.id}</div>
                    </div>
                `;

                contenedor.appendChild(tarjeta);
            });
        }

        // Inicializar la aplicaci√≥n
        document.addEventListener('DOMContentLoaded', function() {
            console.log("üå± Cargando inventario de plantas...");
            
            // Crear las tarjetas de productos
            crearTarjetasProductos();
            
            // Calcular y mostrar estad√≠sticas
            calcularEstadisticas();
            
            console.log(`‚úÖ Se mostraron ${productos.length} productos en la interfaz web`);
            console.log("üéâ Inventario web cargado exitosamente");
        });

        // Funciones adicionales para demostrar el uso de m√©todos de arrays
        function filtrarPorOrigen(origen) {
            return productos.filter(producto => producto.origen === origen);
        }

        function buscarPorNombre(nombre) {
            return productos.find(producto => 
                producto.nombre.toLowerCase().includes(nombre.toLowerCase())
            );
        }

        function ordenarPorStock(ascendente = true) {
            return [...productos].sort((a, b) => 
                ascendente ? a.stock - b.stock : b.stock - a.stock
            );
        }

        // Hacer funciones disponibles globalmente para testing
        window.inventarioFunciones = {
            filtrarPorOrigen,
            buscarPorNombre,
            ordenarPorStock
        };
    </script>
</body>
</html>